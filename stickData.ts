import { MbtiType } from './mbtiTypes';

// 签运等级类型
export type FortuneStickLevel = '大吉' | '中吉' | '小吉' | '大凶' | '中凶' | '小凶';

// 签文数据接口
export interface FortuneStick {
  id: number;
  level: FortuneStickLevel;
  text: string;
  interpretation: (mbtiType: MbtiType) => string;
}

// 正能量赠言列表
export const positiveMessages = [
  "勇气", "智慧", "希望", "坚持", "耐心", "感恩", 
  "突破", "行动", "专注", "开放", "创新", "平静", 
  "真诚", "包容", "喜悦", "自信", "乐观", "坚强",
  "智慧", "成长", "和谐", "平衡", "活力", "灵感"
];

// 获取随机赠言
export function getRandomPositiveMessage(): string {
  return positiveMessages[Math.floor(Math.random() * positiveMessages.length)];
}

// 签文数据库
export const fortuneSticks: FortuneStick[] = [
  {
    id: 1,
    level: '大吉',
    text: '春风得意马蹄疾，一日看尽长安花',
    interpretation: (mbtiType: MbtiType) => {
      // 签文解读分为三部分：含义、个性化阐述和建议
      const meaning = "这句诗描绘了人在顺境中意气风发、畅快前行的景象，象征着成功、喜悦与机遇的到来。签文暗示你正处于一个顺利的时期，努力将获得回报，目标也将较容易达成。";
      
      let elaboration = "";
      let advice = "";
      
      switch (mbtiType) {
        case 'INFP':
          return '今日你的理想主义将引领你走向新的机遇，大胆追求内心渴望的目标，你的创造力和热情将得到认可。相信自己的直觉，勇敢展现真实的自我。你的独特视角和价值观是宝贵的礼物，不要害怕与众不同。在与人交往中，你的真诚和同理心将建立深厚的连接。创意项目可能会取得突破性进展，特别是那些与你的核心价值观一致的努力。记住享受过程，而不仅仅是结果，这将带来更多满足感。';
        case 'ISTJ':
          return '今日你的努力和坚持将获得回报，长期以来的计划开始显现成果。保持你的务实作风和责任感，继续稳步前进，成功就在眼前。你的细致和可靠性使你成为团队中不可或缺的成员，他人会欣赏你的严谨和承诺。今日适合完成拖延已久的任务，你会感到成就感和释放。财务规划可能会有积极进展，坚持你的预算和储蓄计划。健康方面，保持规律作息将带来明显益处。';
        case 'ENFP':
          return '今日是充满机遇的一天，你的热情和创造力将吸引他人的注意。多个可能性同时出现，跟随内心最强烈的冲动，它通常会指引你走向正确的方向。社交场合可能带来意外机会，保持开放心态结识新朋友。创意项目可能会获得新的灵感，不要害怕尝试大胆的想法。你的热情具有感染力，能激励周围的人共同前进。注意不要过度承诺，选择真正激发你兴趣的机会深入发展。';
        case 'ESTJ':
          return '今日你的领导力和组织能力将得到充分发挥，团队将依赖你的指导取得成功。你的决策将产生积极影响，坚持你的原则和计划，成果将超出预期。管理任务时，你的效率和决断力将得到认可。适合召开重要会议或启动新项目，你的规划能力将确保顺利实施。健康方面，结构化的锻炼计划将带来显著效果。财务上，长期投资可能会有积极回报，坚持你的策略。';
        case 'INFJ':
          return '今日你的直觉和洞察力将引领你做出明智决策，特别在人际关系和创意项目上。你可能会感受到强烈的使命感，某些机会似乎与你的人生目标完美契合。深度对话可能带来重要启示，注意倾听内心声音。创意表达，如写作或艺术创作，将特别有收获。健康方面，结合冥想的温和运动将滋养身心。信任你的直觉，它正在引导你走向正确的道路。';
        case 'INTJ':
          return '今日你的战略思维将得到验证，长期计划开始显现成果。复杂问题可能突然变得清晰，你的分析能力将帮助你找到创新解决方案。独立工作会特别有效率，你能专注于重要任务而不受干扰。你的远见将得到他人认可，可能获得实施大胆想法的机会。学习新技能或深入研究专业领域将有突破性进展。健康方面，设定明确目标的锻炼计划将带来满足感。';
        case 'ENTP':
          return '今日你的创新思维和辩论能力将大放异彩，特别在头脑风暴或谈判场合。多个有趣的机会可能同时出现，激发你的好奇心和创造力。与智力相当的人交流将带来刺激和灵感，可能产生合作项目。挑战现状的想法会得到积极回应，不要害怕提出非传统观点。学习新技能会特别轻松，你的快速学习能力将令人印象深刻。注意不要过度分散精力，选择最有前景的想法深入发展。';
        case 'ENTJ':
          return '今日你的领导才能和战略眼光将获得认可，可能被赋予更大责任或领导新项目的机会。你的决策力和行动力将推动重要进展，团队成员会响应你的号召。谈判或重要会议将对你有利，你的说服力和准备充分的论点将赢得支持。长期目标可能取得突破性进展，你的远见正在变为现实。健康方面，高强度、目标明确的锻炼将符合你的风格和需求。';
        case 'ISFP':
          return '今日你的审美能力和实用技能将得到赞赏，创意项目或手工艺可能获得积极反馈。与自然连接的活动，如徒步或园艺，将滋养你的灵魂并带来灵感。感官体验特别丰富，注意欣赏周围环境的美丽细节。帮助他人的实际行动将带来深层满足感。健康方面，注重身体感受的活动如瑜伽或舞蹈将特别有益。信任你的感官直觉，它正在引导你做出正确选择。';
        case 'ISTP':
          return '今日你的问题解决能力和技术才能将大放异彩，复杂任务或挑战将成为展示你能力的机会。动手项目可能取得突破性进展，你的实用思维将找到创新解决方案。独自工作时效率最高，能专注解决问题而不受干扰。学习新技能，特别是实用技术，将特别有收获。户外活动或运动将帮助你释放压力并理清思路。注意细节，它们可能是解决问题的关键。';
        case 'ESFP':
          return '今日你的社交魅力和活力将成为焦点，社交场合可能带来乐趣和新机会。即兴活动或表演可能获得热烈反响，你的表现力和热情具有感染力。与朋友共度的时光将特别愉快，创造珍贵回忆。尝试新的体验或活动将带来刺激和满足感。健康方面，充满乐趣的运动如舞蹈或团队运动将既有效又愉快。活在当下，充分享受每一刻的美好。';
        case 'ESTP':
          return '今日你的应变能力和行动力将面临考验并取得成功，突发情况将展示你的才能。冒险活动或新体验将带来刺激和满足感，你的勇气令人印象深刻。实际问题解决将成为你的强项，他人会寻求你的建议和帮助。谈判或交易可能对你有利，你的务实思维和说服力将达成有利结果。身体活动，特别是需要技巧和反应的运动，将特别有满足感。信任你的本能反应，它们通常是正确的。';
        case 'ISFJ':
          return '今日你的关怀和服务精神将得到认可和感激，帮助他人的行动将带来深层满足感。组织能力将在家庭或社区活动中发挥重要作用，你的细心确保一切顺利进行。人际关系可能加深，真诚的关心将巩固重要关系。传统活动或与家人共度时光将特别有意义。健康方面，注重细节的自我照顾习惯将带来益处。记住也要照顾自己的需求，你不能倒空杯子还继续给予。';
        case 'INTP':
          return '今日你的分析能力和抽象思维将取得突破，复杂问题可能突然变得清晰。深入研究或学习新领域将特别有收获，你的好奇心将引领你发现有趣见解。独自思考时间将富有成效，可能产生创新想法或解决方案。与智力相当的人进行深度对话将带来刺激和启发。写作或解释复杂概念将特别流畅，你的清晰度令人印象深刻。健康方面，结合思维挑战的活动将滋养身心。';
        case 'ESFJ':
          return '今日你的社交能力和组织才能将大放异彩，社区活动或聚会将因你的参与而更加成功。帮助他人的行动将获得感激和认可，你的慷慨精神感染周围的人。传统仪式或庆祝活动将特别有意义，加强人际关系纽带。你的关怀天性将解决冲突或帮助他人和解，带来和谐氛围。健康方面，与朋友一起的活动将使锻炼变得愉快且可持续。你的热情和组织能力是社区的宝贵资产。';
        case 'ENFJ':
          return '今日你的激励能力和人际智慧将帮助他人发挥潜能，同时也为你带来机会。领导力角色可能自然落到你身上，你的同理心和远见将创造积极变化。深度对话将建立深厚连接，你的倾听能力和洞察力使他人感到被理解和重视。创意项目或社区倡议可能获得支持和认可，你的愿景激励他人参与。健康方面，结合社交的活动将滋养身心。你的热情和魅力正在创造积极影响。';
        default:
          elaboration = "今日运势极佳，机遇与好运并存。过去的努力开始收获成果，多个领域可能出现积极进展，特别是那些你投入大量精力的项目。人际关系和谐，合作机会增多。";
          advice = "保持积极态度，勇敢把握眼前的机会。健康状况良好，适合开始新的健康习惯。财务方面可能有意外收获，保持开放心态接受新机遇。记住感恩已有的 blessings，与他人分享你的好运。";
      }
      
      return {
        meaning,
        elaboration,
        advice
      };
    }
  },
  {
    id: 2,
    level: '中吉',
    text: '山重水复疑无路，柳暗花明又一村',
    interpretation: (mbtiType: MbtiType) => {
      switch (mbtiType) {
        case 'INFP':
          return '当前的困境只是暂时的，相信你的直觉和创造力，它们将帮助你找到新的出路。保持希望和理想主义，看似无解的问题将迎来转机。';
        case 'ISTJ':
          return '虽然目前进展似乎受阻，但你的耐心和坚持将带来突破。重新审视计划，可能需要调整方法，但目标依然可以实现。相信你的务实判断。';
        case 'ENFP':
          return '不要因眼前的障碍而气馁，你的灵活和适应性是宝贵资产。尝试从新角度看待问题，与他人交流想法，意想不到的解决方案将会出现。';
        case 'ESTJ':
          return '当前挑战需要你调整策略而非放弃目标。利用你的组织能力重新规划，寻求可靠盟友的支持，你会发现新的路径和机会。';
        default:
          return '虽然目前看似困难重重，但转机即将出现。保持信心，灵活应对变化，寻求新的方法和视角，你将发现意想不到的解决方案。';
      }
    }
  },
  {
    id: 3,
    level: '小吉',
    text: '不积跬步，无以至千里；不积小流，无以成江海',
    interpretation: (mbtiType: MbtiType) => {
      switch (mbtiType) {
        case 'INFP':
          return '今日适合专注于小而有意义的进步，它们将累积成显著的成果。你的价值观和热情将帮助你保持动力，享受过程中的小确幸。';
        case 'ISTJ':
          return '你的耐心和细致是今日的优势，继续坚持日常工作和计划。小的、持续的进步将带来稳定的成果，符合你的务实风格和长期视角。';
        case 'ENFP':
          return '尝试将大目标分解为小步骤，逐一完成。虽然你更喜欢宏大愿景，但今日的小成就将给你带来持续动力，保持专注于眼前任务。';
        case 'ESTJ':
          return '今日适合关注细节和日常运营，它们是长期成功的基础。你的组织能力将帮助你高效完成各项任务，每一步都让你更接近目标。';
        default:
          return '今日适合专注于小而具体的任务，它们是实现大目标的基础。保持耐心和一致性，小的进步累积起来将带来显著成果。享受过程中的每一步。';
      }
    }
  },
  {
    id: 4,
    level: '大凶',
    text: '黑云压城城欲摧，甲光向日金鳞开',
    interpretation: (mbtiType: MbtiType) => {
      switch (mbtiType) {
        case 'INFP':
          return '今日可能面临情绪或外部环境的挑战，但你的内在力量和价值观将帮助你坚持下去。困难是暂时的，它们将成为你成长和自我发现的机会。保持希望和理想主义。';
        case 'ISTJ':
          return '今日可能会遇到意料之外的挑战，但你的果断和执行力将是克服困境的关键，保持冷静，步步为营。依靠你的经验和计划，你有能力应对任何困难。';
        case 'ENFP':
          return '今日可能出现突发变化和挑战，利用你的适应性和创造力寻找新的解决方案。保持乐观，将困难视为成长和学习的机会，你的韧性将帮助你渡过难关。';
        case 'ESTJ':
          return '今日可能会遇到意料之外的挑战，但你的果断和执行力将是克服困境的关键，保持冷静，步步为营。依靠你的组织能力和责任感，制定应对计划并坚定执行。';
        default:
          return '今日可能面临较大挑战，但记住困难中蕴含着成长的机会。保持冷静和坚定，依靠你的优势和支持系统，你有能力克服眼前的障碍，变得更加强大。';
      }
    }
  },
  {
    id: 5,
    level: '中凶',
    text: '路遥知马力，日久见人心',
    interpretation: (mbtiType: MbtiType) => {
      switch (mbtiType) {
        case 'INFP':
          return '今日可能会遇到人际关系的小挑战，给他人和自己一些时间和空间。真诚和耐心将帮助你度过这段时期，真正的理解需要时间培养。相信自己的直觉判断。';
        case 'ISTJ':
          return '当前情况可能不如预期顺利，保持耐心和坚持。你的可靠性和责任感最终会得到认可，不要因短期挫折而动摇。专注于长期目标和价值观。';
        case 'ENFP':
          return '今日可能需要放慢脚步，给事情发展的时间。不是所有机会都需要立即把握，有些关系和项目需要时间培养。保持开放心态，观察而非立即行动。';
        case 'ESTJ':
          return '今日可能面临计划受阻的情况，需要调整预期和时间表。保持灵活性，同时坚持核心目标。你的组织能力依然重要，但可能需要更频繁地评估进展。';
        default:
          return '今日可能遇到一些阻碍和挑战，保持耐心和坚持。困难是暂时的，真正的价值和能力需要时间来证明。相信自己的判断，坚持正确的道路。';
      }
    }
  },
  {
    id: 6,
    level: '小凶',
    text: '莫为浮云遮望眼，自缘身在最高层',
    interpretation: (mbtiType: MbtiType) => {
      switch (mbtiType) {
        case 'INFP':
          return '今日可能遇到小挫折或情绪波动，记住从长远角度看待问题。你的理想和价值观是导航星，不要让暂时的困难掩盖它们的光芒。给自己空间处理情绪。';
        case 'ISTJ':
          return '今日可能出现一些小麻烦或计划中断，保持冷静和系统性。逐一解决问题，不要让小挫折影响整体判断。你的务实思维将帮助你找到解决方案。';
        case 'ENFP':
          return '今日可能感到精力分散或方向不明确，尝试回到核心兴趣和价值观。小的干扰可能让你偏离轨道，重新聚焦于真正重要的事情，找回热情和动力。';
        case 'ESTJ':
          return '今日可能面临一些小障碍，保持专注于长期目标而非眼前困难。你的决心和组织能力将帮助 you 克服这些挑战，不要让小问题影响整体计划执行。';
        default:
          return '今日可能遇到一些小困难或挫折，保持长远视角。不要让暂时的问题影响你的整体判断和目标。保持积极态度，小障碍是成长和学习的机会。';
      }
    }
  }
];

// 生成随机签文
export function getRandomFortuneStick(): FortuneStick {
  const randomIndex = Math.floor(Math.random() * fortuneSticks.length);
  return fortuneSticks[randomIndex];
}
